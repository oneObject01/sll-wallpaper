{"version":3,"file":"classlist.js","sources":["pages/classlist/classlist.vue","../../../../../../HBuilderX.4.45.2025010502/HBuilderX/plugins/uniapp-cli-vite/uniPage:/cGFnZXMvY2xhc3NsaXN0L2NsYXNzbGlzdC52dWU"],"sourcesContent":["<template>\n\t<view class=\"classlist\">\r\n\t\t<view class=\"boxs\">\r\n\t\t\t<navigator url=\"/pages/preview/preview\" class=\"box\" v-for=\"item in wallListPic\">\r\n\t\t\t\t\t<image :src=\"item.smallPicurl\" mode=\"aspectFill\" :ket=\"item._id\"></image>\r\n\t\t\t</navigator>\r\n\t\t</view>\r\n\t\t<view class=\"load\">\r\n\t\t\t<uni-load-more :status=\"status\" :contentText=\"contentText\"/>\r\n\t\t</view>\n\t</view>\n</template>\n\n<script setup>\r\nimport { ref } from 'vue';\r\nimport {onLoad,onReachBottom} from \"@dcloudio/uni-app\"\nimport { apiGetWallListPic } from '../../api/apis';\r\nconst contentText = {contentdown: \"上拉显示更多\",contentrefresh: \"正在加载...\",contentnomore: \"没有更多图片了\"}\r\nconst wallListPic = ref([])\r\nlet classId = ref({})\r\nlet noMore = false\r\nlet status = ref('loading')\r\n\r\nonLoad(e=>{\r\n\tconsole.log(e)\r\n\tlet {id} = e\r\n\tclassId.value.classid = id\r\n\tclassId.value.pageSize = 12\r\n\tclassId.value.pageNum = 1\r\n\tconsole.log(classId.value)\r\n\tgetWallListPic()\r\n})\r\n\r\nonReachBottom( async ()=>{\r\n\tif(noMore)return\r\n\tclassId.value.pageNum++\r\n\tconst res = await apiGetWallListPic(classId.value)\r\n\twallListPic.value = [...wallListPic.value,...res.data]\r\n\tif(res.data.length<12){\r\n\t\tnoMore = true\r\n\t\tstatus.value = 'noMore'\r\n\t}\r\n\tconsole.log(\"请求中\")\r\n})\r\n\r\nconst getWallListPic = async ()=>{\r\n\tconst res = await apiGetWallListPic(classId.value)\r\n\twallListPic.value = res.data\r\n\tconsole.log(res)\r\n}\r\n\r\n\n</script>\n\n<style lang=\"scss\" scoped>\n.classlist{\r\n\t.boxs{\r\n\t\twidth: 100%;\r\n\t\tpadding: 5rpx;\r\n\t\tdisplay: grid;\r\n\t\tgrid-template-columns: repeat(3,1fr);\r\n\t\tgap: 5rpx;\r\n\t\t.box{\r\n\t\t\twidth: 100%;\r\n\t\t\theight: 545rpx;\r\n\t\t\timage{\r\n\t\t\t\twidth: 100%;\r\n\t\t\t\theight: 100%;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\t.load{\r\n\t\tpadding: 30rpx 0;\r\n\t}\r\n}\n</style>\n","import MiniProgramPage from 'C:/Users/yuweikai/Documents/HBuilderProjects/sll-wallpaper/sll-wallpaper-frontend/pages/classlist/classlist.vue'\nwx.createPage(MiniProgramPage)"],"names":["ref","onLoad","uni","onReachBottom","apiGetWallListPic"],"mappings":";;;;;;;;;;AAiBA,UAAM,cAAc,EAAC,aAAa,UAAS,gBAAgB,WAAU,eAAe,UAAS;AAC7F,UAAM,cAAcA,cAAG,IAAC,EAAE;AAC1B,QAAI,UAAUA,cAAG,IAAC,EAAE;AACpB,QAAI,SAAS;AACb,QAAI,SAASA,cAAG,IAAC,SAAS;AAE1BC,kBAAM,OAAC,OAAG;AACTC,oBAAAA,MAAA,MAAA,OAAA,uCAAY,CAAC;AACb,UAAI,EAAC,GAAE,IAAI;AACX,cAAQ,MAAM,UAAU;AACxB,cAAQ,MAAM,WAAW;AACzB,cAAQ,MAAM,UAAU;AACxBA,oBAAAA,MAAY,MAAA,OAAA,uCAAA,QAAQ,KAAK;AACzB,qBAAgB;AAAA,IACjB,CAAC;AAEDC,kBAAAA,cAAe,YAAU;AACxB,UAAG;AAAO;AACV,cAAQ,MAAM;AACd,YAAM,MAAM,MAAMC,2BAAkB,QAAQ,KAAK;AACjD,kBAAY,QAAQ,CAAC,GAAG,YAAY,OAAM,GAAG,IAAI,IAAI;AACrD,UAAG,IAAI,KAAK,SAAO,IAAG;AACrB,iBAAS;AACT,eAAO,QAAQ;AAAA,MACf;AACDF,oBAAAA,0DAAY,KAAK;AAAA,IAClB,CAAC;AAED,UAAM,iBAAiB,YAAU;AAChC,YAAM,MAAM,MAAME,2BAAkB,QAAQ,KAAK;AACjD,kBAAY,QAAQ,IAAI;AACxBF,oBAAAA,MAAY,MAAA,OAAA,uCAAA,GAAG;AAAA,IAChB;;;;;;;;;;;;;;;;;;AChDA,GAAG,WAAW,eAAe;"}